!function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(1),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(r),s=function(){function e(t,o){n(this,e),this.nome=t,this.cognome=o}return i(e,[{key:"toString",value:function(){return e.capitalizza(this.cognome)+" "+e.capitalizza(this.nome)}},{key:"vuoto",value:function(){return""===this.cognome||""===this.nome}},{key:"nome",value:function(){return e.capitalizza(this.nome)}},{key:"cognome",value:function(){return e.capitalizza(this.cognome)}}],[{key:"capitalizza",value:function(e){return e.split(" ").forEach(function(e){return e.charAt(0).toUpperCase()+e.substring(1).toLocaleLowerCase()}).join()}}]),e}(),c=function e(t,o,i,r){n(this,e),this.descrizione_breve=t,this.descrizione=o,this.competenza=i,this.punteggio=r},l=function e(t,o,i){n(this,e),this.indice=t,this.quesito=o,this.struttura_per_valutazione=i},u=function(){function e(t,o){n(this,e);var i=window.location.href.split("#")[0],r=function(e){localStorage[i]=e.getValue()};this.codemirror=CodeMirror.fromTextArea(document.getElementById("editor"),t),function(e){var t=localStorage[i]||e.getValue();e.setValue(t),e.on("change",r)}(this.codemirror),o(this.codemirror)}return i(e,[{key:"value",get:function(){return this.codemirror.getValue()}}]),e}(),d=function(){function e(){n(this,e);!function(){document.querySelector("#opendyslexic-fonts").disabled=!0,document.querySelector("#font-scelto").value="",document.querySelector("#font-scelto").addEventListener("change",function(e){var t=e instanceof Event?e.target.value:e;document.querySelector("#opendyslexic-fonts");switch(t){case"opendyslexic":!function(){var e=document.querySelector("#opendyslexic-fonts");null!==e&&(e.disabled=!1)}();break;default:!function(){var e=document.querySelector("#opendyslexic-fonts");null!==e&&(e.disabled=!0)}()}for(var o=!1,n=void 0,i=document.styleSheets,r=0;r<i.length;r++)if(n=i[r],n.ownerNode&&n.ownerNode.getAttribute("id")&&"stile_interno"===n.ownerNode.getAttribute("id")){o=!0;break}if(o)for(var a=n.cssRules,s=0;s<a.length;s++){var c=a[s];return c.style["font-family"]=t,void document.querySelectorAll(".CodeMirror")[0].CodeMirror.refresh()}})}()}return i(e,[{key:"aggiungiSpecifiche",value:function(e){var t=document.querySelector("#descr-specs");e.forEach(function(e){var o=document.createElement("li");o.setAttribute("id","descr-spec-"+e.indice),o.innerHTML=e.quesito.descrizione,t.appendChild(o)})}},{key:"aggiungiValutazioni",value:function(e){var t=document.querySelector("#descr-stats");e.forEach(function(e){var o=document.createElement("tr"),n=document.createElement("td");n.innerHTML=e.indice+1,o.append(n);var i=document.createElement("td");i.innerHTML=e.quesito.descrizione_breve,o.append(i);var r=document.createElement("td");r.innerHTML="FAIL",r.setAttribute("id","descr-stats-risultato-"+e.indice),r.setAttribute("class","fail"),o.append(r);var a=document.createElement("td");a.innerHTML=0,a.setAttribute("id","descr-stats-punti-"+e.indice),o.append(a);var s=document.createElement("td");s.innerHTML=e.quesito.punteggio,o.append(s),t.append(o)})}},{key:"aggiornaPunteggioMassimo",value:function(e){this.scala=e,document.querySelector("#descr-stats-punteggio-massimo").textContent="/"+e}},{key:"aggiornaPunteggio",value:function(e){try{e.forEach(function(e,t){var o=document.querySelector("#descr-stats-risultato-"+t),n=document.querySelector("#descr-stats-punti-"+t),i=document.querySelector("#descr-spec-"+t);e>0?(o.textContent="PASS",o.setAttribute("class","pass"),n.textContent=e,i.setAttribute("class","pass")):(o.textContent="FAIL",o.setAttribute("class","fail"),n.textContent=e,i.setAttribute("class","fail"))});var t=e.reduce(function(e,t){return e+t});document.querySelector("#descr-stats-punteggio-grezzo").textContent=t,document.querySelector("#voto").textContent=10*t/this.scala}catch(e){console.log(e.message)}}},{key:"elementoVisualizzazioneOutput",get:function(){return document.querySelector("#render")}},{key:"plainText",get:function(){return document.querySelector("#render").srcdoc}},{key:"DOM",get:function(){return document.querySelector("#render").contentDocument}}]),e}(),p=function(){function e(t,o){n(this,e),this.specifiche=t,this.pagina=o,this.punteggio_grezzo=0,this.punteggio_decimi=0;var i=0;this.punteggi=[],t.forEach(function(e){i+=e.quesito.punteggio}),o.aggiornaPunteggioMassimo(i),this.punteggio_massimo=i}return i(e,[{key:"abilita",value:function(){var e=this,t="",o=function(e,o){var n=!1;if(!e.struttura_per_valutazione.hasOwnProperty("modello"))throw new Error("Passami il tipo di modello di analisi (PLAINTEXT, DOM, CSSDOM, ASCIIDOC...)");try{switch(e.struttura_per_valutazione.modello){case"PLAINTEXT":var i=o.plainText;n=function(e,o,n){if(arguments.length<2)throw new Error("Passami almeno 2 parametri!");if(!e instanceof RegExp)throw new Error("Passami una RegExp!");return n&&(o=n(o)),t+=e+" : "+o,!!e.test(o)}(e.struttura_per_valutazione.schema,i,e.struttura_per_valutazione.callback);break;case"DOM":var r=o.DOM;switch(e.struttura_per_valutazione.analisi){case"Contenuto":n=function e(o,n,i,r){if(arguments.length<2)throw new Error("Passami almeno 2 parametri!");if(o instanceof RegExp){for(var a=n.querySelectorAll(i),s=0;s<a.length;s++){var c=a[s],l=c.innerHTML;if(r&&(l=r(l)),o.test(l))return t+=o+" : "+l,!0}return!1}if(Array.isArray(o)){for(var u=0;u<o.length;u++)if(!e(o[u],n,i[u],r))return!1;return!0}throw new Error("Passami una RegExp! O un vettore di RegExp!")}(e.struttura_per_valutazione.contenuto,r,e.struttura_per_valutazione.selettore,e.struttura_per_valutazione.callback);break;case"Attributo":n=function e(o,n,i,r){var a=o[0],s=o[1],c=n.querySelectorAll(i);if(0===c.length)return!1;if("string"==typeof a){for(var l=c.length-1;l>-1;l++){var u=c[l];if(null==u)return!1;var d=u.getAttribute(a);if(r&&(d=r(d)),s.test(d))return t+=s+" : "+d,!0}return!1}if(Array.isArray(a)){for(var p=0;p<a.length;p++){if(!e([o[0][p],o[1][p]],n,i,r))return!1}return!0}}(e.struttura_per_valutazione.coppieChiaveValore,r,e.struttura_per_valutazione.selettore,e.struttura_per_valutazione.callback);break;case"AttributoContenuto":n=function(e,t,o,n){for(var i=o.querySelectorAll(n),r=i.length-1;r>-1;r--){var a=i[r];if(t.test(a.textContent))return function(t){var o=e[0];if("string"==typeof o){var n=e[1],i=t.getAttribute(o);return n.test(i)}return!1}(a)}return!1}(e.struttura_per_valutazione.coppieChiaveValore,e.struttura_per_valutazione.contenuto,r,e.struttura_per_valutazione.selettore);break;default:throw new Error("Funzione di analisi non riconosciuta "+e.struttura_per_valutazione.analisi)}break;default:throw new Error("Modello di analisi non riconosciuto "+e.struttura_per_valutazione.modello)}}catch(e){console.log(e)}finally{return n?(t+=" || SODDISFATTA :)",e.quesito.punteggio):(t+=" || NON SODDISFATTA :(",0)}};this.pagina.elementoVisualizzazioneOutput.addEventListener("load",function(){var n=0,i=[];v.forEach(function(e){t="Spec. "+(e.indice+1)+". - "+e.quesito.descrizione_breve+" || ";var r=Number(o(e,g));n+=Number(r),document.verbose&&console.log(t+" || "+n),i.push(r)}),g.aggiornaPunteggio(i),e.punteggi=i,e.punteggio_grezzo=Number(n),e.punteggio_decimi=10*e.punteggio_grezzo/e.punteggio_massimo})}}]),e}(),m=function(){function e(t,o,i,r){n(this,e),this.classe=t,this.alunno=o,this.artefatto=i,this.correttore=r}return i(e,[{key:"invia",value:function(){var e=document.createElement("form"),t=document.createElement("input");t.value=this.classe,t.name="classe",e.appendChild(t);var o=document.createElement("input");o.value=this.alunno.nome,o.name="nome",e.appendChild(o);var n=document.createElement("input");n.value=this.alunno.cognome,n.name="cognome",e.appendChild(n);var i=document.createElement("textarea");i.value=this.artefatto,i.name="artefatto",e.appendChild(i);var r=document.createElement("textarea");r.value=JSON.stringify({classe:this.classe,alunno:this.alunno,artefatto:this.artefatto,correzione:this.correttore}),r.name="json",e.appendChild(r);var a=document.createElement("input");a.value=this.correttore.punteggio_decimi,a.name="punti",e.appendChild(a),e.method="POST",e.action="https://script.google.com/a/savoiabenincasa.it/macros/s/AKfycbwCadXpofT_08X9n0O-CXqLvm08EvZ9M0BcbplgwQjimBYAwVn1/exec",document.body.appendChild(e),e.submit()}}]),e}(),g=new d,v=function(e){var t=[];return e.forEach(function(e,o){var n=new c(e.quesito.descrizione_breve,e.quesito.descrizione,e.quesito.competenza,e.quesito.punteggio),i=new l(o,n,e.specifica.struttura_per_valutazione);t.push(i)}),t}(a.lista_quesiti);g.aggiungiSpecifiche(v),g.aggiungiValutazioni(v);var f={mode:{name:"htmlmixed",tags:{style:[["type",/^text\/(x-)?scss$/,"text/x-scss"],[null,null,"css"]]}},lineNumbers:!0,lineWrapping:!0,viewportMargin:10,extraKeys:{"Ctrl-Space":"autocomplete"},stylesheet:["css/xmlcolors.css","css/jscolors.css","css/csscolors.css"],autoCloseTags:!0,scrollbarStyle:"simple"},h=function(e){document.getElementById("render").srcdoc=e.getValue(),e.on("change",function(){document.getElementById("render").srcdoc=e.getValue()})},z=new u(f,h);z.codemirror.refresh();var b=new p(v,g,z);b.abilita();var _=function(){var e=document.querySelectorAll(".CodeMirror")[0].CodeMirror,t=document.getElementById("descr-specs").clientHeight;e.setSize("100%",t),e.refresh()};window.addEventListener("resize",_),window.addEventListener("load",_);var y=function(){var e=a.classe,t=new s(document.querySelector("#alunno-nome").value,document.querySelector("#alunno-cognome").value);if(t.vuoto())return void alert("Per continuare devi immettere il nome e il cognome nelle caselle in alto a destra.");var o=document.querySelectorAll(".CodeMirror")[0].CodeMirror,n=o.getValue();if(""===n)return void alert("Per continuare devi immettere del testo.");new m(e,t,n,b).invia()};document.querySelector("#invia").addEventListener("click",y)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.classe="E-3A",t.lista_quesiti=[{quesito:{descrizione_breve:"Dichiarazione di tipo",descrizione:"Dichiarare il tipo di documento affinché il browser lo interpreti come <code>HTML</code>",competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"PLAINTEXT",schema:/<!DOCTYPE\s+html>/i,callback:function(e){return e.slice(0,e.indexOf("\n"))}}}},{quesito:{descrizione_breve:"Codifica dei caratteri",descrizione:"Dichiarare la <strong>codifica dei caratteri</strong> &egrave; <code>utf-8</code>",competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Attributo",selettore:"html > head > meta",coppieChiaveValore:["charset",/^utf-8$/i],callback:null}}},{quesito:{descrizione_breve:"Titolo della pagina",descrizione:'Inserire l\'elemento del <strong>titolo della pagina</strong> rispettando la <span class="tooltip">grammatica HTML<span class="tooltiptext">in paricolare regole di annidamento degli elementi</span></span>. Il contenuto dell\'elemento titolo deve essere: <code>Verifica di <span class="tooltip"><em>Cognome&nbsp;&nbsp;Nome</em><span class="tooltiptext">Il tuo cognome seguito dal tuo nome</span></span></code>',competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:"html > head > title",contenuto:/Verifica\s+di\s+/i,callback:null}}},{quesito:{descrizione_breve:"Titoletto livello 1",descrizione:"Inserire <strong>l'intestazione di livello di sezionamento 1</strong> il contenuto dell'elemento titolo deve essere: <code>Titoletto sezione 1</code>",competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:"html > body > h1",contenuto:/Titoletto\s+sezione\s+1/i,callback:null}}},{quesito:{descrizione_breve:"Titoletto livello 2",descrizione:"Inserire <strong>l'intestazione di livello di sezionamento 2</strong> il contenuto dell'elemento titolo deve essere: <code>Titoletto sezione 1.1</code>",competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:"html > body > h2",contenuto:/Titoletto\s+sezione\s+1\.1/i,callback:null}}},{quesito:{descrizione_breve:"Titoletto livello 3",descrizione:"Inserire <strong>l'intestazione di livello di sezionamento 3</strong> il contenuto dell'elemento titolo deve essere: <code>Titoletto sezione 1.1.1</code>",competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:"html > body > h3",contenuto:/Titoletto\s+sezione\s+1\.1\.1/i,callback:null}}},{quesito:{descrizione_breve:"Capoverso con id",descrizione:"Inserire un elemento <strong>capoverso</strong> <em>identificato</em> da <code>primocapoverso</code>  il contenuto  deve essere: <code>Il primo capoverso.</code>",competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:"html > body > p#primocapoverso",contenuto:/Il\s+primo\s+capoverso/i,callback:null}}},{quesito:{descrizione_breve:"Elenco non ordinato",descrizione:"Inserire un <strong>elenco non ordinato</strong> il cui <em>primo</em> <strong>elemento dell'elenco</strong> sia <code>Cerchio</code>",competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:"html > body ul > li",contenuto:/cerchio/i,callback:null}}},{quesito:{descrizione_breve:"Elenco ordinato",descrizione:"Inserire un <strong>elenco ordinato</strong> il <em>terzo</em> <strong>elemento dell'elenco</strong> sia <code>terzo</code>",competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:"html > body ol > li:nth-of-type(3)",contenuto:/terzo/i,callback:null}}},{quesito:{descrizione_breve:"Elenco descrittivo",descrizione:"Inserire un <strong>elenco descrittivo</strong> con la definizione del <strong>termine</stong> <code>zero</code> con <strong>definizione</strong> <code>il primo numero naturale</code> ",competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:["html > body dl > dt:nth-of-type(1)","html > body dl > dd:nth-of-type(1)"],contenuto:[/^\s*zero\s*$/i,/^\s*il\s+primo\s+numero\s+naturale/],callback:null}}},{quesito:{descrizione_breve:"Enfasi",descrizione:"Inserire in un <strong>capoverso</strong> avente <em>classe</em> <code>enfasi</code> i blocchi di testo: <code>carattere in neretto</code>, <code>carattere in corsivo</code> e <code>carattere a spaziatura fissa</code>. I blocchi devono essere annotati per apparire nei rispettivi caratteri tipografici. Sono ammessi solo marcatori semantici",competenza:"",punteggio:2},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:["html > body p.enfasi > strong","html > body p.enfasi > em","html > body p.enfasi > code"],contenuto:[/^\s*carattere in neretto\s*$/i,/^\s*carattere in corsivo\s*$/i,/\s*carattere a spaziatura fissa\s*/i],callback:null}}},{quesito:{descrizione_breve:"Andare a capo",descrizione:"Inserire in un <strong>capoverso</strong> avente <em>id</em> <code>soldati</code> i due blocchi di testo: <code>Si sta come</code>, e <code>d'autunno</code> separati da un elemento per andare <code>a capo</code>",competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:"html > body p#soldati",contenuto:/Si sta come\s*(<br>|<br \/>(\s|\n)*d.*autunno)/i,callback:null}}},{quesito:{descrizione_breve:"Collegamento",descrizione:"Inserire un <stong>collegamento</strong> che punti all'indirizzo <code>http://www.gnu.org/</code> e che mostri il  testo <code>il progetto GNU</code>",competenza:"",punteggio:1},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"AttributoContenuto",selettore:"html > body a",contenuto:/il progetto GNU/i,coppieChiaveValore:["href",/http:\/\/www.gnu.org\//]}}},{quesito:{descrizione_breve:"Immagine",descrizione:"Inserire un'<strong>immagine</strong> il cui <em>id</em> sia <code>gnu</code> <em>indirizzo</em> sia <code>http://www.gnu.org/graphics/gnu-head.jpg</code> e il <em>testo alternativo</em> sia <code>la testa di uno gnu</code>",competenza:"",punteggio:3},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Attributo",selettore:"html > body img#gnu",coppieChiaveValore:[["src","alt"],[/http:\/\/www.gnu.org\/graphics\/gnu-head.jpg/,/la testa di uno gnu/i]]}}},{quesito:{descrizione_breve:"Tabella",descrizione:"Inserire  una <strong>tabella</strong> composta di un'<strong>intestazione</strong> e di un <strong>corpo</strong>; l'intestazione contiene una riga con la <strong>cella d'intestazione</strong> dal testo <code>colonna 1</code>; il corpo contiene nella prima riga una <strong>cella</strong> con testo <code>dato 1</code>",competenza:"",punteggio:3},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:["html > body table > thead > tr > th:first-child","html > body table > tbody > tr > td:first-child"],contenuto:[/^\s*colonna 1\s*$/i,/^\s*dato 1\s*$/i],callback:null}}},{quesito:{descrizione_breve:"Figura",descrizione:"Inserire  una <strong>Figura</strong> composta di una <strong>didascalia</strong>\n\t\t\t\te di una <strong>div</strong>;\n\t\t\t\tla didascalia contiene il testo <code>Figura 1</code>;\n\t\t\t\tla <code>div</code> ha come contenuto la parola <code>Listato</code>",competenza:"",punteggio:3},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:["html > body figure > figcaption","html > body figure > div"],contenuto:[/^\s*Figura 1\s*$/i,/^\s*Listato\s*$/i],callback:null}}},{quesito:{descrizione_breve:"Annidamento",descrizione:"Creare un elemento <code>div</code> con annidato un elemento <code>p</code> con annidato un elemento <code>span</code>. Il contenuto dell'ultimo elemento &egrave; <code>span dentro p dentro div</code>",competenza:"",punteggio:2},specifica:{struttura_per_valutazione:{modello:"DOM",analisi:"Contenuto",selettore:"html > body div > p > span",contenuto:/span\s* dentro\s* p\s* dentro\s* div/i,callback:null}}}]}]);